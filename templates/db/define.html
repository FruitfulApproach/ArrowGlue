{% load static %}

<!DOCTYPE html>
<html data-bs-theme="light" lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport"/>
  <title>
   ArrowGlue
  </title>
  <link href='{% static "img/favicon-16x16.png" %}' rel="icon" sizes="16x16" type="image/png"/>
  <link href='{% static "img/favicon-16x16.png" %}' media="(prefers-color-scheme: dark)" rel="icon" sizes="16x16" type="image/png"/>
  <link href='{% static "img/favicon-32x32.png" %}' rel="icon" sizes="32x32" type="image/png"/>
  <link href='{% static "img/favicon-32x32.png" %}' media="(prefers-color-scheme: dark)" rel="icon" sizes="32x32" type="image/png"/>
  <link href='{% static "img/android-chrome-192x192.png" %}' rel="icon" sizes="192x192" type="image/png"/>
  <link href='{% static "img/android-chrome-192x192.png" %}' rel="icon" sizes="192x192" type="image/png"/>
  <link href='{% static "img/android-chrome-512x512.png" %}' rel="icon" sizes="512x512" type="image/png"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href='{% static "assets/css/Font%20Awesome%206%20Free.css" %}' rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css?family=Indie+Flower&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css?family=Ribeye+Marrow&display=swap" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet"/>
  <link href='{% static "css/Articles-Cards-images-1.css" %}' rel="stylesheet"/>
  <link href='{% static "css/Articles-Cards-images.css" %}' rel="stylesheet"/>
  <link href='{% static "css/Custom-Quiver-Navbar.css" %}' rel="stylesheet"/>
  <link href='{% static "css/styles.css" %}' rel="stylesheet"/>
  <link href='{% static "css/Tabs-Panel.css" %}' rel="stylesheet"/>
 </head>
 <body style="/*width: 100%;*/padding-top: 0px;">
  <div style="top:-32px;position:relative;">
   {% include 'messages.html' %}
  </div>
  <nav class="navbar navbar-expand-md fixed-top bg-success py-0" style="position: fixed;width: 100%;z-index:1">
   <div class="container-fluid">
    <a class="navbar-brand d-flex align-items-center bounce animated" href="{% url 'db_index' %}" style="font-family: 'Indie Flower', serif;font-size: 26px;padding-top: 0px;padding-bottom: 0px;">
     <br/>
     <img height="42" src='{% static "img/android-chrome-192x192.png" %}' style="margin-right: 15px;" width="42"/>
     <br/>
     <strong>
      <span style="color: rgb(252, 163, 17);">
       ArrowGlue
      </span>
     </strong>
     <br/>
     <br/>
    </a>
    <button class="navbar-toggler" data-bs-target="#navcol-2" data-bs-toggle="collapse" style="margin-bottom: 10px;margin-top: 7px;">
     <span class="visually-hidden">
      Toggle navigation
     </span>
     <span class="navbar-toggler-icon">
     </span>
    </button>
    <div class="collapse navbar-collapse d-md-flex align-items-md-center align-items-lg-center" id="navcol-2" style="margin-bottom: 8px;margin-top: 7px;">
     <h3 class="fw-bold text-start d-flex d-lg-flex justify-content-start align-items-center flex-wrap align-items-md-center align-items-lg-center" id="title-area" style="position: static;width: auto;padding-bottom: 0px;height: auto;margin-left: 13px;margin-bottom: 0px;float: left;">
      <button class="btn btn-primary text-nowrap align-items-center flex-nowrap align-items-md-center" data-bs-target="#edit-title-modal" data-bs-toggle="modal" id="edit-title-btn" style="margin-left: 6px;width: auto;height: 28px;margin-right: 8px;" type="button">
       Edit
      </button>
      <span class="fw-bold" style="padding-right: 0px;margin-right: 15px;">
       Definition.
      </span>
      <span class="fw-bold d-lg-flex align-items-lg-center" id="title-text">
       {{ definition.title }}
      </span>
     </h3>
     <ul class="navbar-nav d-md-flex ms-auto align-items-md-center">
     </ul>
     <a class="btn btn-primary float-end ms-auto ms-md-2" href="{% url 'define' %}" role="button">
      Define
     </a>
    </div>
   </div>
  </nav>
  <div class="container-fluid d-flex d-sm-flex flex-column justify-content-center flex-wrap justify-content-sm-center py-4 py-xl-5" id="implication-chain-cards" style="width: auto;margin-left: auto;margin-right: auto;margin-bottom: -25px;margin-top: 32px;">
   <div class="row" id="implication-chain-card-list">
    {% for prop in implication_chain %}
    <div class="col-12">
     {% include 'db/quiver_preview_include.html' %}
    </div>
    {% endfor %}
   </div>
   <div class="row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3" style="position: static;padding-top: 0px;margin: 10px;padding-bottom: 0px;margin-top: -6px;margin-bottom: 44px;">
    <div class="col" style="margin: 12px;padding: 0;padding-left: 6px;margin-left: -13px;position: absolute;display: inline-flex;padding-bottom: 0px;padding-top: 3px;margin-bottom: 60px;margin-top: 8px;">
     <button class="btn btn-primary edit-button" data-bs-toggle="tooltip" data-bss-tooltip="" onclick="add_sketch();" style="margin-right: 8px;margin-left: 6px;" title="(Let)" type="button">
      Add Sketch
     </button>
     <button class="btn btn-primary edit-button" data-bs-toggle="tooltip" data-bss-tooltip="" onclick="add_sketch();" title="(Recurse)" type="button">
      Add Chain
     </button>
    </div>
   </div>
  </div>
  <div class="container-fluid" style="margin-top: 5px;">
   <div class="row" style="margin-top: 23px;">
    <div class="col" style="padding-top: 0px;margin-top: -9px;">
     <p class="w-lg-50" style="margin-bottom: -1px;padding-top: 0px;margin-top: 0px;">
      Author: {{ definition.maintainer }}
      <br/>
      Created: {{ definition.creation_datetime }}
      <br/>
      Edited: {{ definition.datetime_edited }}
     </p>
    </div>
   </div>
  </div>
  <div class="modal fade" id="edit-title-modal" role="dialog" tabindex="-1">
   <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
     <div class="modal-header">
      <h4 class="modal-title">
       Edit Definition Title
      </h4>
      <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button">
      </button>
     </div>
     <div class="modal-body">
      <input id="edit-title-input" style="width: 100%;" type="text" value="{{ definition.title }}"/>
     </div>
     <div class="modal-footer">
      <button class="btn btn-light" data-bs-dismiss="modal" type="button">
       Close
      </button>
      <button class="btn btn-primary" data-bs-dismiss="modal" onclick="save_definition_title();" type="button">
       Save
      </button>
     </div>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   var definition_id = "{{ definition.uid }}";
    var csrf_token = "{{ csrf_token }}";
    var save_definition_url = "{% url 'save_definition_title' %}";
    var add_def_to_prop_url =  "{% url 'add_prop_to_def' %}";
  </script>
  <link href="{% static 'quiver/src/KaTeX/katex.min.css' %}" rel="stylesheet" type="text/css"/>
  <script defer="" src="{% static 'quiver/src/KaTeX/katex.min.js' %}">
  </script>
  <script defer="" src="{% static 'quiver/src/KaTeX/contrib/auto-render.min.js' %}">
  </script>
  <script type="text/javascript">
   function render_katex(elem) {
        renderMathInElement(elem, {
          // customised options
          // auto-render specific keys, e.g.:
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false}
          ],
          // rendering keys, e.g.:
          throwOnError : false
        });
    }
    
    document.addEventListener("DOMContentLoaded", function() {
       render_katex(document.body); 
    });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
  </script>
  <script src='{% static "js/bs-init.js" %}'>
  </script>
  <script src='{% static "db/js/definition_page.js" %}'>
  </script>
 </body>
</html>